define(["./core","./var/document","./var/documentElement","./var/isFunction","./var/rnothtmlwhite","./var/rcheckableType","./var/slice","./data/var/dataPriv","./core/nodeName","./core/init","./selector"],function(e,t,n,i,r,a,o,s,l){"use strict";function c(){return!0}function u(){return!1}function p(e,n){return e===function(){try{return t.activeElement}catch(e){}}()==("focus"===n)}function d(t,n,i,r,a,o){var s,l;if("object"==typeof n){"string"!=typeof i&&(r=r||i,i=void 0);for(l in n)d(t,l,i,r,n[l],o);return t}if(null==r&&null==a?(a=i,r=i=void 0):null==a&&("string"==typeof i?(a=r,r=void 0):(a=r,r=i,i=void 0)),!1===a)a=u;else if(!a)return t;return 1===o&&(s=a,(a=function(t){return e().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=e.guid++)),t.each(function(){e.event.add(this,n,a,r,i)})}function h(t,n,i){i?(s.set(t,n,!1),e.event.add(t,n,{namespace:!1,handler:function(t){var r,a,l=s.get(this,n);if(1&t.isTrigger&&this[n]){if(l.length)(e.event.special[n]||{}).delegateType&&t.stopPropagation();else if(l=o.call(arguments),s.set(this,n,l),r=i(this,n),this[n](),a=s.get(this,n),l!==a||r?s.set(this,n,!1):a={},l!==a)return t.stopImmediatePropagation(),t.preventDefault(),a.value}else l.length&&(s.set(this,n,{value:e.event.trigger(e.extend(l[0],e.Event.prototype),l.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===s.get(t,n)&&e.event.add(t,n,c)}var v=/^key/,f=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,g=/^([^.]*)(?:\.(.+)|)/;return e.event={global:{},add:function(t,i,a,o,l){var c,u,p,d,h,v,f,m,y,b,T,E=s.get(t);if(E)for(a.handler&&(a=(c=a).handler,l=c.selector),l&&e.find.matchesSelector(n,l),a.guid||(a.guid=e.guid++),(d=E.events)||(d=E.events={}),(u=E.handle)||(u=E.handle=function(n){return void 0!==e&&e.event.triggered!==n.type?e.event.dispatch.apply(t,arguments):void 0}),h=(i=(i||"").match(r)||[""]).length;h--;)y=T=(p=g.exec(i[h])||[])[1],b=(p[2]||"").split(".").sort(),y&&(f=e.event.special[y]||{},y=(l?f.delegateType:f.bindType)||y,f=e.event.special[y]||{},v=e.extend({type:y,origType:T,data:o,handler:a,guid:a.guid,selector:l,needsContext:l&&e.expr.match.needsContext.test(l),namespace:b.join(".")},c),(m=d[y])||((m=d[y]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,o,b,u)||t.addEventListener&&t.addEventListener(y,u)),f.add&&(f.add.call(t,v),v.handler.guid||(v.handler.guid=a.guid)),l?m.splice(m.delegateCount++,0,v):m.push(v),e.event.global[y]=!0)},remove:function(t,n,i,a,o){var l,c,u,p,d,h,v,f,m,y,b,T=s.hasData(t)&&s.get(t);if(T&&(p=T.events)){for(d=(n=(n||"").match(r)||[""]).length;d--;)if(u=g.exec(n[d])||[],m=b=u[1],y=(u[2]||"").split(".").sort(),m){for(v=e.event.special[m]||{},f=p[m=(a?v.delegateType:v.bindType)||m]||[],u=u[2]&&new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=l=f.length;l--;)h=f[l],!o&&b!==h.origType||i&&i.guid!==h.guid||u&&!u.test(h.namespace)||a&&a!==h.selector&&("**"!==a||!h.selector)||(f.splice(l,1),h.selector&&f.delegateCount--,v.remove&&v.remove.call(t,h));c&&!f.length&&(v.teardown&&!1!==v.teardown.call(t,y,T.handle)||e.removeEvent(t,m,T.handle),delete p[m])}else for(m in p)e.event.remove(t,m+n[d],i,a,!0);e.isEmptyObject(p)&&s.remove(t,"handle events")}},dispatch:function(t){var n,i,r,a,o,l,c=e.event.fix(t),u=new Array(arguments.length),p=(s.get(this,"events")||{})[c.type]||[],d=e.event.special[c.type]||{};for(u[0]=c,n=1;n<arguments.length;n++)u[n]=arguments[n];if(c.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,c)){for(l=e.event.handlers.call(this,c,p),n=0;(a=l[n++])&&!c.isPropagationStopped();)for(c.currentTarget=a.elem,i=0;(o=a.handlers[i++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==o.namespace&&!c.rnamespace.test(o.namespace)||(c.handleObj=o,c.data=o.data,void 0!==(r=((e.event.special[o.origType]||{}).handle||o.handler).apply(a.elem,u))&&!1===(c.result=r)&&(c.preventDefault(),c.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,c),c.result}},handlers:function(t,n){var i,r,a,o,s,l=[],c=n.delegateCount,u=t.target;if(c&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],s={},i=0;i<c;i++)void 0===s[a=(r=n[i]).selector+" "]&&(s[a]=r.needsContext?e(a,this).index(u)>-1:e.find(a,this,null,[u]).length),s[a]&&o.push(r);o.length&&l.push({elem:u,handlers:o})}return u=this,c<n.length&&l.push({elem:u,handlers:n.slice(c)}),l},addProp:function(t,n){Object.defineProperty(e.Event.prototype,t,{enumerable:!0,configurable:!0,get:i(n)?function(){if(this.originalEvent)return n(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[e.expando]?t:new e.Event(t)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return a.test(t.type)&&t.click&&l(t,"input")&&h(t,"click",c),!1},trigger:function(e){var t=this||e;return a.test(t.type)&&t.click&&l(t,"input")&&h(t,"click"),!0},_default:function(e){var t=e.target;return a.test(t.type)&&t.click&&l(t,"input")&&s.get(t,"click")||l(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},e.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},e.Event=function(t,n){if(!(this instanceof e.Event))return new e.Event(t,n);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?c:u,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,n&&e.extend(this,n),this.timeStamp=t&&t.timeStamp||Date.now(),this[e.expando]=!0},e.Event.prototype={constructor:e.Event,isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=c,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=c,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=c,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},e.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&v.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&f.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},e.event.addProp),e.each({focus:"focusin",blur:"focusout"},function(t,n){e.event.special[t]={setup:function(){return h(this,t,p),!1},trigger:function(){return h(this,t),!0},delegateType:n}}),e.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,n){e.event.special[t]={delegateType:n,bindType:n,handle:function(t){var i,r=t.relatedTarget,a=t.handleObj;return r&&(r===this||e.contains(this,r))||(t.type=a.origType,i=a.handler.apply(this,arguments),t.type=n),i}}}),e.fn.extend({on:function(e,t,n,i){return d(this,e,t,n,i)},one:function(e,t,n,i){return d(this,e,t,n,i,1)},off:function(t,n,i){var r,a;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,e(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(a in t)this.off(a,n,t[a]);return this}return!1!==n&&"function"!=typeof n||(i=n,n=void 0),!1===i&&(i=u),this.each(function(){e.event.remove(this,t,i,n)})}}),e});