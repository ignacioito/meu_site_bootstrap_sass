define(["./core","./core/toType","./var/rcheckableType","./var/isFunction","./core/init","./traversing","./attributes/prop"],function(e,r,n,t){"use strict";function i(n,t,s,u){var o;if(Array.isArray(t))e.each(t,function(e,r){s||a.test(n)?u(n,r):i(n+"["+("object"==typeof r&&null!=r?e:"")+"]",r,s,u)});else if(s||"object"!==r(t))u(n,t);else for(o in t)i(n+"["+o+"]",t[o],s,u)}var a=/\[\]$/,s=/\r?\n/g,u=/^(?:submit|button|image|reset|file)$/i,o=/^(?:input|select|textarea|keygen)/i;return e.param=function(r,n){var a,s=[],u=function(e,r){var n=t(r)?r():r;s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==r)return"";if(Array.isArray(r)||r.jquery&&!e.isPlainObject(r))e.each(r,function(){u(this.name,this.value)});else for(a in r)i(a,r[a],n,u);return s.join("&")},e.fn.extend({serialize:function(){return e.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var r=e.prop(this,"elements");return r?e.makeArray(r):this}).filter(function(){var r=this.type;return this.name&&!e(this).is(":disabled")&&o.test(this.nodeName)&&!u.test(r)&&(this.checked||!n.test(r))}).map(function(r,n){var t=e(this).val();return null==t?null:Array.isArray(t)?e.map(t,function(e){return{name:n.name,value:e.replace(s,"\r\n")}}):{name:n.name,value:t.replace(s,"\r\n")}}).get()}}),e});